@model IEnumerable<Category>
@{
   
}
<div class="clearafter">
    

    <div class="list-category-left">
        <div class="new-post-title">
            <h6>Danh Mục</h6>
        </div>
        @foreach (var item in Model)
        {
            if (item.ParentCategory == null)
            {
                <div class="main-body-content-child">

                   @* <span class="icon-star"><i class="bi bi-star"></i></span>
                    <span class="icon-star"><i class="bi bi-star"></i></span>
                    <span class="icon-star"><i class="bi bi-star"></i></span>*@
                    

                    <h5 class=" d-flex justify-content-lg-start">
                        @if (@item.IConFont != null )
                        {
                            <span class="icon-category">@Html.Raw(@item.IConFont)</span>
                        }else
                        {
                            <span class="icon-category"><i class="bi bi-terminal"></i></span>
                        }
                       
                        @*<span class="icon-category">
                            <img style="margin: auto; width: 50px; height: 50px;" src="~/img/java-icon-2048x2048-yxty4s2p.png" />
                        </span>*@
                        <span style="margin: auto; padding-left: 10px; font-size: 16px; margin-left: 0px;">
                            @item.Title
                        </span>
                        
                    </h5>
                    <div class="card-body">
                        @{
                            if (item.CategoryChildren?.Count >= 0)
                            {
                                await RenderCategory(item.CategoryChildren, 14);
                            }

                            
                        }
                    </div>
                </div>

            }
        }
    </div>
    
</div>

@{
    async Task RenderCategory(IEnumerable<Category> categories, int fontsize)
    {
        if (fontsize < 14)
        {
            fontsize = 14;

        }
        
        var fontz = fontsize + "px";

        foreach (var category in categories)
        {
            var count = category.PostCategories?.Count() ?? 0;

            <li style="position: relative" class="d-flex justify-content-starts">
                @if (category.IConFont != null)
                {
                    <span style="font-size: @fontz;" class="mx-1">
                        @Html.Raw(category.IConFont)
                    </span>
                }
                else
                {
                    <span style="font-size: @fontz;" class="mx-1">
                        <i class="bi bi-terminal"></i>
                    </span>
                }

          
                <span style="padding-left: 10px;">
                      <a style="font-size: @fontz;" asp-area="Docs" asp-controller="ViewDocs" asp-action="index" asp-route-slug="@category.Slug">@category.Title </a>

                </span>
                <span class="count-post-category">@count</span>
            </li>

            if (category.CategoryChildren?.Count >= 0)
            {
                <ul>
                    @{

                       await RenderCategory(category.CategoryChildren, fontsize - 1);
                    }

                </ul>
            }
        }
    }

  
}
